<!DOCTYPE html>
<html>
  <head>
    <title>reCAPTCHA demo: Console Token</title>
    <script type="text/javascript">
      var widgetId;

      var onloadCallback = function () {
        widgetId = grecaptcha.render('html_element', {
          'sitekey': '6LfngEIrAAAAAObfV4tocBPIagG9XlA011mlV0bJ'
        });
      };

      function getCaptchaToken(event) {
        event.preventDefault(); // Formani yuborishni to‘xtatadi
        var response = grecaptcha.getResponse(widgetId);

        if (!response) {
          console.warn("⚠️ Iltimos, avval CAPTCHA’ni to‘ldiring.");
        } else {
          console.log("✅ reCAPTCHA token:", response);
        }
      }
    </script>
  </head>
  <body>
    <form onsubmit="getCaptchaToken(event)">
      <div id="html_element"></div>
      <br>
      <input type="submit" value="Submit">
    </form>

    <script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit" async defer></script>
  </body>
</html>
